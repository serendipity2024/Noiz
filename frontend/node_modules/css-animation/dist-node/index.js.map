{"version":3,"file":"index.js","sources":["../dist-src/Event.js","../dist-src/classes.js","../dist-src/index.js"],"sourcesContent":["var START_EVENT_NAME_MAP = {\n  transitionstart: {\n    transition: 'transitionstart',\n    WebkitTransition: 'webkitTransitionStart',\n    MozTransition: 'mozTransitionStart',\n    OTransition: 'oTransitionStart',\n    msTransition: 'MSTransitionStart'\n  },\n  animationstart: {\n    animation: 'animationstart',\n    WebkitAnimation: 'webkitAnimationStart',\n    MozAnimation: 'mozAnimationStart',\n    OAnimation: 'oAnimationStart',\n    msAnimation: 'MSAnimationStart'\n  }\n};\nvar END_EVENT_NAME_MAP = {\n  transitionend: {\n    transition: 'transitionend',\n    WebkitTransition: 'webkitTransitionEnd',\n    MozTransition: 'mozTransitionEnd',\n    OTransition: 'oTransitionEnd',\n    msTransition: 'MSTransitionEnd'\n  },\n  animationend: {\n    animation: 'animationend',\n    WebkitAnimation: 'webkitAnimationEnd',\n    MozAnimation: 'mozAnimationEnd',\n    OAnimation: 'oAnimationEnd',\n    msAnimation: 'MSAnimationEnd'\n  }\n};\nvar startEvents = [];\nvar endEvents = [];\n\nfunction detectEvents() {\n  var testEl = document.createElement('div');\n  var style = testEl.style;\n\n  if (!('AnimationEvent' in window)) {\n    delete START_EVENT_NAME_MAP.animationstart.animation;\n    delete END_EVENT_NAME_MAP.animationend.animation;\n  }\n\n  if (!('TransitionEvent' in window)) {\n    delete START_EVENT_NAME_MAP.transitionstart.transition;\n    delete END_EVENT_NAME_MAP.transitionend.transition;\n  }\n\n  function process(EVENT_NAME_MAP, events) {\n    for (var baseEventName in EVENT_NAME_MAP) {\n      if (EVENT_NAME_MAP.hasOwnProperty(baseEventName)) {\n        var baseEvents = EVENT_NAME_MAP[baseEventName];\n\n        for (var styleName in baseEvents) {\n          if (styleName in style) {\n            events.push(baseEvents[styleName]);\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  process(START_EVENT_NAME_MAP, startEvents);\n  process(END_EVENT_NAME_MAP, endEvents);\n}\n\nif (typeof window !== 'undefined' && typeof document !== 'undefined') {\n  detectEvents();\n}\n\nfunction addEventListener(node, eventName, eventListener) {\n  node.addEventListener(eventName, eventListener, false);\n}\n\nfunction removeEventListener(node, eventName, eventListener) {\n  node.removeEventListener(eventName, eventListener, false);\n}\n\nvar TransitionEvents = {\n  // Start events\n  startEvents: startEvents,\n  addStartEventListener: function addStartEventListener(node, eventListener) {\n    if (startEvents.length === 0) {\n      window.setTimeout(eventListener, 0);\n      return;\n    }\n\n    startEvents.forEach(function (startEvent) {\n      addEventListener(node, startEvent, eventListener);\n    });\n  },\n  removeStartEventListener: function removeStartEventListener(node, eventListener) {\n    if (startEvents.length === 0) {\n      return;\n    }\n\n    startEvents.forEach(function (startEvent) {\n      removeEventListener(node, startEvent, eventListener);\n    });\n  },\n  // End events\n  endEvents: endEvents,\n  addEndEventListener: function addEndEventListener(node, eventListener) {\n    if (endEvents.length === 0) {\n      window.setTimeout(eventListener, 0);\n      return;\n    }\n\n    endEvents.forEach(function (endEvent) {\n      addEventListener(node, endEvent, eventListener);\n    });\n  },\n  removeEndEventListener: function removeEndEventListener(node, eventListener) {\n    if (endEvents.length === 0) {\n      return;\n    }\n\n    endEvents.forEach(function (endEvent) {\n      removeEventListener(node, endEvent, eventListener);\n    });\n  }\n};\nexport default TransitionEvents;","/**\n * Module dependencies.\n */\nfunction index(arr, obj) {\n  if (arr.indexOf) return arr.indexOf(obj);\n\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n\n  return -1;\n}\n/**\n * Whitespace regexp.\n */\n\n\nvar re = /\\s+/;\n/**\n * toString reference.\n */\n\nvar toString = Object.prototype.toString;\n/**\n * Wrap `el` in a `ClassList`.\n *\n * @param {Element} el\n * @return {ClassList}\n * @api public\n */\n\nexport default function (el) {\n  return new ClassList(el);\n}\n/**\n * Initialize a new ClassList for `el`.\n *\n * @param {Element} el\n * @api private\n */\n\nfunction ClassList(el) {\n  if (!el || !el.nodeType) {\n    throw new Error('A DOM element reference is required');\n  }\n\n  this.el = el;\n  this.list = el.classList;\n}\n/**\n * Add class `name` if not already present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\n\nClassList.prototype.add = function (name) {\n  // classList\n  if (this.list) {\n    this.list.add(name);\n    return this;\n  } // fallback\n\n\n  var arr = this.array();\n  var i = index(arr, name);\n  if (!~i) arr.push(name);\n  this.el.className = arr.join(' ');\n  return this;\n};\n/**\n * Remove class `name` when present, or\n * pass a regular expression to remove\n * any which match.\n *\n * @param {String|RegExp} name\n * @return {ClassList}\n * @api public\n */\n\n\nClassList.prototype.remove = function (name) {\n  if ('[object RegExp]' == toString.call(name)) {\n    return this.removeMatching(name);\n  } // classList\n\n\n  if (this.list) {\n    this.list.remove(name);\n    return this;\n  } // fallback\n\n\n  var arr = this.array();\n  var i = index(arr, name);\n  if (~i) arr.splice(i, 1);\n  this.el.className = arr.join(' ');\n  return this;\n};\n/**\n * Remove all classes matching `re`.\n *\n * @param {RegExp} re\n * @return {ClassList}\n * @api private\n */\n\n\nClassList.prototype.removeMatching = function (re) {\n  var arr = this.array();\n\n  for (var i = 0; i < arr.length; i++) {\n    if (re.test(arr[i])) {\n      this.remove(arr[i]);\n    }\n  }\n\n  return this;\n};\n/**\n * Toggle class `name`, can force state via `force`.\n *\n * For browsers that support classList, but do not support `force` yet,\n * the mistake will be detected and corrected.\n *\n * @param {String} name\n * @param {Boolean} force\n * @return {ClassList}\n * @api public\n */\n\n\nClassList.prototype.toggle = function (name, force) {\n  // classList\n  if (this.list) {\n    if ('undefined' !== typeof force) {\n      if (force !== this.list.toggle(name, force)) {\n        this.list.toggle(name); // toggle again to correct\n      }\n    } else {\n      this.list.toggle(name);\n    }\n\n    return this;\n  } // fallback\n\n\n  if ('undefined' !== typeof force) {\n    if (!force) {\n      this.remove(name);\n    } else {\n      this.add(name);\n    }\n  } else {\n    if (this.has(name)) {\n      this.remove(name);\n    } else {\n      this.add(name);\n    }\n  }\n\n  return this;\n};\n/**\n * Return an array of classes.\n *\n * @return {Array}\n * @api public\n */\n\n\nClassList.prototype.array = function () {\n  var className = this.el.getAttribute('class') || '';\n  var str = className.replace(/^\\s+|\\s+$/g, '');\n  var arr = str.split(re);\n  if ('' === arr[0]) arr.shift();\n  return arr;\n};\n/**\n * Check if class `name` is present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\n\nClassList.prototype.has = ClassList.prototype.contains = function (name) {\n  return this.list ? this.list.contains(name) : !!~index(this.array(), name);\n};","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport Event from \"./Event.js\";\nimport classes from \"./classes.js\";\nvar isCssAnimationSupported = Event.endEvents.length !== 0;\nvar capitalPrefixes = ['Webkit', 'Moz', 'O', // ms is special .... !\n'ms'];\nvar prefixes = ['-webkit-', '-moz-', '-o-', 'ms-', ''];\n\nfunction getStyleProperty(node, name) {\n  // old ff need null, https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle\n  var style = window.getComputedStyle(node, null);\n  var ret = '';\n\n  for (var i = 0; i < prefixes.length; i++) {\n    ret = style.getPropertyValue(prefixes[i] + name);\n\n    if (ret) {\n      break;\n    }\n  }\n\n  return ret;\n}\n\nfunction fixBrowserByTimeout(node) {\n  if (isCssAnimationSupported) {\n    var transitionDelay = parseFloat(getStyleProperty(node, 'transition-delay')) || 0;\n    var transitionDuration = parseFloat(getStyleProperty(node, 'transition-duration')) || 0;\n    var animationDelay = parseFloat(getStyleProperty(node, 'animation-delay')) || 0;\n    var animationDuration = parseFloat(getStyleProperty(node, 'animation-duration')) || 0;\n    var time = Math.max(transitionDuration + transitionDelay, animationDuration + animationDelay); // sometimes, browser bug\n\n    node.rcEndAnimTimeout = setTimeout(function () {\n      node.rcEndAnimTimeout = null;\n\n      if (node.rcEndListener) {\n        node.rcEndListener();\n      }\n    }, time * 1000 + 200);\n  }\n}\n\nfunction clearBrowserBugTimeout(node) {\n  if (node.rcEndAnimTimeout) {\n    clearTimeout(node.rcEndAnimTimeout);\n    node.rcEndAnimTimeout = null;\n  }\n}\n\nvar cssAnimation = function cssAnimation(node, transitionName, endCallback) {\n  var nameIsObj = _typeof(transitionName) === 'object';\n  var className = nameIsObj ? transitionName.name : transitionName;\n  var activeClassName = nameIsObj ? transitionName.active : \"\".concat(transitionName, \"-active\");\n  var end = endCallback;\n  var start;\n  var active;\n  var nodeClasses = classes(node);\n\n  if (endCallback && Object.prototype.toString.call(endCallback) === '[object Object]') {\n    end = endCallback.end;\n    start = endCallback.start;\n    active = endCallback.active;\n  }\n\n  if (node.rcEndListener) {\n    node.rcEndListener();\n  }\n\n  node.rcEndListener = function (e) {\n    if (e && e.target !== node) {\n      return;\n    }\n\n    if (node.rcAnimTimeout) {\n      clearTimeout(node.rcAnimTimeout);\n      node.rcAnimTimeout = null;\n    }\n\n    clearBrowserBugTimeout(node);\n    nodeClasses.remove(className);\n    nodeClasses.remove(activeClassName);\n    Event.removeEndEventListener(node, node.rcEndListener);\n    node.rcEndListener = null; // Usually this optional end is used for informing an owner of\n    // a leave animation and telling it to remove the child.\n\n    if (end) {\n      end();\n    }\n  };\n\n  Event.addEndEventListener(node, node.rcEndListener);\n\n  if (start) {\n    start();\n  }\n\n  nodeClasses.add(className);\n  node.rcAnimTimeout = setTimeout(function () {\n    node.rcAnimTimeout = null;\n    nodeClasses.add(activeClassName);\n\n    if (active) {\n      setTimeout(active, 0);\n    }\n\n    fixBrowserByTimeout(node); // 30ms for firefox\n  }, 30);\n  return {\n    stop: function stop() {\n      if (node.rcEndListener) {\n        node.rcEndListener();\n      }\n    }\n  };\n};\n\ncssAnimation.style = function (node, style, callback) {\n  if (node.rcEndListener) {\n    node.rcEndListener();\n  }\n\n  node.rcEndListener = function (e) {\n    if (e && e.target !== node) {\n      return;\n    }\n\n    if (node.rcAnimTimeout) {\n      clearTimeout(node.rcAnimTimeout);\n      node.rcAnimTimeout = null;\n    }\n\n    clearBrowserBugTimeout(node);\n    Event.removeEndEventListener(node, node.rcEndListener);\n    node.rcEndListener = null; // Usually this optional callback is used for informing an owner of\n    // a leave animation and telling it to remove the child.\n\n    if (callback) {\n      callback();\n    }\n  };\n\n  Event.addEndEventListener(node, node.rcEndListener);\n  node.rcAnimTimeout = setTimeout(function () {\n    for (var s in style) {\n      if (style.hasOwnProperty(s)) {\n        node.style[s] = style[s];\n      }\n    }\n\n    node.rcAnimTimeout = null;\n    fixBrowserByTimeout(node);\n  }, 0);\n};\n\ncssAnimation.setTransition = function (node, p, value) {\n  var property = p;\n  var v = value;\n\n  if (value === undefined) {\n    v = property;\n    property = '';\n  }\n\n  property = property || '';\n  capitalPrefixes.forEach(function (prefix) {\n    node.style[\"\".concat(prefix, \"Transition\").concat(property)] = v;\n  });\n};\n\ncssAnimation.isCssAnimationSupported = isCssAnimationSupported;\nexport { isCssAnimationSupported, Event };\nexport default cssAnimation;"],"names":["START_EVENT_NAME_MAP","transitionstart","transition","WebkitTransition","MozTransition","OTransition","msTransition","animationstart","animation","WebkitAnimation","MozAnimation","OAnimation","msAnimation","END_EVENT_NAME_MAP","transitionend","animationend","startEvents","endEvents","detectEvents","testEl","document","createElement","style","window","process","EVENT_NAME_MAP","events","baseEventName","hasOwnProperty","baseEvents","styleName","push","addEventListener","node","eventName","eventListener","removeEventListener","TransitionEvents","addStartEventListener","length","setTimeout","forEach","startEvent","removeStartEventListener","addEndEventListener","endEvent","removeEndEventListener","index","arr","obj","indexOf","i","re","toString","Object","prototype","el","ClassList","nodeType","Error","list","classList","add","name","array","className","join","remove","call","removeMatching","splice","test","toggle","force","has","getAttribute","str","replace","split","shift","contains","_typeof","Symbol","iterator","constructor","isCssAnimationSupported","Event","capitalPrefixes","prefixes","getStyleProperty","getComputedStyle","ret","getPropertyValue","fixBrowserByTimeout","transitionDelay","parseFloat","transitionDuration","animationDelay","animationDuration","time","Math","max","rcEndAnimTimeout","rcEndListener","clearBrowserBugTimeout","clearTimeout","cssAnimation","transitionName","endCallback","nameIsObj","activeClassName","active","concat","end","start","nodeClasses","classes","e","target","rcAnimTimeout","stop","callback","s","setTransition","p","value","property","v","undefined","prefix"],"mappings":"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"}